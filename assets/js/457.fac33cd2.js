(window.webpackJsonp=window.webpackJsonp||[]).push([[457],{933:function(e,s,a){"use strict";a.r(s);var t=a(17),n=Object(t.a)({},(function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"抽象节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#抽象节点"}},[e._v("#")]),e._v(" 抽象节点")]),e._v(" "),a("p",[e._v("这个特性自小程序基础库版本 "),a("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("1.9.6"),a("OutboundLink")],1),e._v(" 开始支持。")]),e._v(" "),a("h2",{attrs:{id:"在组件中使用抽象节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在组件中使用抽象节点"}},[e._v("#")]),e._v(" 在组件中使用抽象节点")]),e._v(" "),a("p",[e._v("有时，自定义组件模板中的一些节点，其对应的自定义组件不是由自定义组件本身确定的，而是自定义组件的调用者确定的。这时可以把这个节点声明为“抽象节点”。")]),e._v(" "),a("p",[e._v("例如，我们现在来实现一个“选框组”（selectable-group）组件，它其中可以放置单选框（custom-radio）或者复选框（custom-checkbox）。这个组件的 wxml 可以这样编写：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('\x3c!-- selectable-group.wxml --\x3e\n<view wx:for="{{labels}}">\n  <label>\n    <selectable disabled="{{false}}"></selectable>\n    {{item}}\n  </label>\n</view>\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("p",[e._v("其中，“selectable”不是任何在 json 文件的 "),a("code",[e._v("usingComponents")]),e._v(" 字段中声明的组件，而是一个抽象节点。它需要在 "),a("code",[e._v("componentGenerics")]),e._v(" 字段中声明：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n  "componentGenerics": {\n    "selectable": true\n  }\n}\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br")])]),a("h2",{attrs:{id:"使用包含抽象节点的组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用包含抽象节点的组件"}},[e._v("#")]),e._v(" 使用包含抽象节点的组件")]),e._v(" "),a("p",[e._v("在使用 selectable-group 组件时，必须指定“selectable”具体是哪个组件：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('<selectable-group generic:selectable="custom-radio" />\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("这样，在生成这个 selectable-group 组件的实例时，“selectable”节点会生成“custom-radio”组件实例。类似地，如果这样使用：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('<selectable-group generic:selectable="custom-checkbox" />\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("“selectable”节点则会生成“custom-checkbox”组件实例。")]),e._v(" "),a("p",[e._v("注意：上述的 "),a("code",[e._v("custom-radio")]),e._v(" 和 "),a("code",[e._v("custom-checkbox")]),e._v(" 需要包含在这个 wxml 对应 json 文件的 "),a("code",[e._v("usingComponents")]),e._v(" 定义段中。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n  "usingComponents": {\n    "custom-radio": "path/to/custom/radio",\n    "custom-checkbox": "path/to/custom/checkbox"\n  }\n}\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br")])]),a("h2",{attrs:{id:"抽象节点的默认组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#抽象节点的默认组件"}},[e._v("#")]),e._v(" 抽象节点的默认组件")]),e._v(" "),a("p",[e._v("抽象节点可以指定一个默认组件，当具体组件未被指定时，将创建默认组件的实例。默认组件可以在 "),a("code",[e._v("componentGenerics")]),e._v(" 字段中指定：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n  "componentGenerics": {\n    "selectable": {\n      "default": "path/to/default/component"\n    }\n  }\n}\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("p",[a("strong",[e._v("Tips:")])]),e._v(" "),a("ul",[a("li",[e._v("节点的 generic 引用 "),a("code",[e._v('generic:xxx="yyy"')]),e._v(" 中，值 "),a("code",[e._v("yyy")]),e._v(" 只能是静态值，不能包含数据绑定。因而抽象节点特性并不适用于动态决定节点名的场景。")])])])}),[],!1,null,null,null);s.default=n.exports}}]);